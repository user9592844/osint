path '/home/nixos/osint-nix/modules' does not contain a 'flake.nix', searching up
copying channel...
building the flake in path:/home/nixos/osint-nix?lastModified=1742523008&narHash=sha256-b3G/0UEkrgcPVJaHMs5atjYZHYAIf6SbB0bpWCXhctE%3D...
copying path '/nix/store/82qfxipnn9fxl1sirjzn8m7bkj4ph487-source' to 'local'...
error:
       … while calling the 'seq' builtin
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:334:18:
          333|         options = checked options;
          334|         config = checked (removeAttrs config [ "_module" ]);
             |                  ^
          335|         _module = checked (config._module);

       … while evaluating a branch condition
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:273:9:
          272|       checkUnmatched =
          273|         if config._module.check && config._module.freeformType == null && merged.unmatchedDefns != [] then
             |         ^
          274|           let

       … in the left operand of the AND (&&) operator
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:273:72:
          272|       checkUnmatched =
          273|         if config._module.check && config._module.freeformType == null && merged.unmatchedDefns != [] then
             |                                                                        ^
          274|           let

       … in the left operand of the AND (&&) operator
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:273:33:
          272|       checkUnmatched =
          273|         if config._module.check && config._module.freeformType == null && merged.unmatchedDefns != [] then
             |                                 ^
          274|           let

       … while evaluating a branch condition
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:266:12:
          265|
          266|         in if declaredConfig._module.freeformType == null then declaredConfig
             |            ^
          267|           # Because all definitions that had an associated option ended in

       … from call site
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:254:28:
          253|           # For definitions that have an associated option
          254|           declaredConfig = mapAttrsRecursiveCond (v: ! isOption v) (_: v: v.value) options;
             |                            ^
          255|

       … while calling 'mapAttrsRecursiveCond'
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/attrsets.nix:1200:5:
         1199|     f:
         1200|     set:
             |     ^
         1201|     let

       … while calling the 'mapAttrs' builtin
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/attrsets.nix:1209:5:
         1208|     in
         1209|     recurse [ ] set;
             |     ^
         1210|

       … while evaluating the attribute 'matchedOptions'
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:692:15:
          691|     in {
          692|       inherit matchedOptions;
             |               ^
          693|

       … while calling the 'mapAttrs' builtin
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:683:24:
          682|
          683|       matchedOptions = mapAttrs (n: v: v.matchedOptions) resultsByName;
             |                        ^
          684|

       … while calling the 'mapAttrs' builtin
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:636:23:
          635|
          636|       resultsByName = mapAttrs (name: decls:
             |                       ^
          637|         # We're descending into attribute ‘name’.

       … while calling the 'zipAttrsWith' builtin
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:553:9:
          552|       declsByName =
          553|         zipAttrsWith
             |         ^
          554|           (n: concatLists)

       … while calling the 'map' builtin
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:555:12:
          554|           (n: concatLists)
          555|           (map
             |            ^
          556|             (module: let subtree = module.options; in

       … from call site
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:246:33:
          245|           ({ inherit lib options config specialArgs; } // specialArgs);
          246|         in mergeModules prefix (reverseList collected);
             |                                 ^
          247|

       … while calling 'reverseList'
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/lists.nix:1117:17:
         1116|   */
         1117|   reverseList = xs:
             |                 ^
         1118|     let l = length xs; in genList (n: elemAt xs (l - n - 1)) l;

       … while calling the 'genList' builtin
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/lists.nix:1118:27:
         1117|   reverseList = xs:
         1118|     let l = length xs; in genList (n: elemAt xs (l - n - 1)) l;
             |                           ^
         1119|

       … while evaluating the second argument passed to builtins.genList

       … while calling the 'length' builtin
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/lists.nix:1118:13:
         1117|   reverseList = xs:
         1118|     let l = length xs; in genList (n: elemAt xs (l - n - 1)) l;
             |             ^
         1119|

       … from call site
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:241:25:
          240|       merged =
          241|         let collected = collectModules
             |                         ^
          242|           class

       … while calling anonymous lambda
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:452:37:
          451|
          452|     in modulesPath: initialModules: args:
             |                                     ^
          453|       filterModules modulesPath (collectStructuredModules unknownModule "" initialModules args);

       … from call site
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:453:7:
          452|     in modulesPath: initialModules: args:
          453|       filterModules modulesPath (collectStructuredModules unknownModule "" initialModules args);
             |       ^
          454|

       … while calling 'filterModules'
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:420:36:
          419|       # modules recursively. It returns the final list of unique-by-key modules
          420|       filterModules = modulesPath: { disabled, modules }:
             |                                    ^
          421|         let

       … while calling the 'map' builtin
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:447:12:
          446|           keyFilter = filter (attrs: ! elem attrs.key disabledKeys);
          447|         in map (attrs: attrs.module) (genericClosure {
             |            ^
          448|           startSet = keyFilter modules;

       … while calling the 'genericClosure' builtin
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:447:39:
          446|           keyFilter = filter (attrs: ! elem attrs.key disabledKeys);
          447|         in map (attrs: attrs.module) (genericClosure {
             |                                       ^
          448|           startSet = keyFilter modules;

       … while calling the 'filter' builtin
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:448:22:
          447|         in map (attrs: attrs.module) (genericClosure {
          448|           startSet = keyFilter modules;
             |                      ^
          449|           operator = attrs: keyFilter attrs.modules;

       … while calling anonymous lambda
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:446:31:
          445|           disabledKeys = concatMap ({ file, disabled }: map (moduleKey file) disabled) disabled;
          446|           keyFilter = filter (attrs: ! elem attrs.key disabledKeys);
             |                               ^
          447|         in map (attrs: attrs.module) (genericClosure {

       … in the argument of the not operator
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:446:40:
          445|           disabledKeys = concatMap ({ file, disabled }: map (moduleKey file) disabled) disabled;
          446|           keyFilter = filter (attrs: ! elem attrs.key disabledKeys);
             |                                        ^
          447|         in map (attrs: attrs.module) (genericClosure {

       … while calling the 'elem' builtin
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:446:40:
          445|           disabledKeys = concatMap ({ file, disabled }: map (moduleKey file) disabled) disabled;
          446|           keyFilter = filter (attrs: ! elem attrs.key disabledKeys);
             |                                        ^
          447|         in map (attrs: attrs.module) (genericClosure {

       … while calling the 'concatMap' builtin
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:445:26:
          444|
          445|           disabledKeys = concatMap ({ file, disabled }: map (moduleKey file) disabled) disabled;
             |                          ^
          446|           keyFilter = filter (attrs: ! elem attrs.key disabledKeys);

       … while calling the 'concatLists' builtin
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:402:24:
          401|           collectResults = modules: {
          402|             disabled = concatLists (catAttrs "disabled" modules);
             |                        ^
          403|             inherit modules;

       … while evaluating the attribute 'disabled'
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:402:13:
          401|           collectResults = modules: {
          402|             disabled = concatLists (catAttrs "disabled" modules);
             |             ^
          403|             inherit modules;

       … while calling the 'concatLists' builtin
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:402:24:
          401|           collectResults = modules: {
          402|             disabled = concatLists (catAttrs "disabled" modules);
             |                        ^
          403|             inherit modules;

       … while evaluating the attribute 'disabled'
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:402:13:
          401|           collectResults = modules: {
          402|             disabled = concatLists (catAttrs "disabled" modules);
             |             ^
          403|             inherit modules;

       … while calling the 'concatLists' builtin
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:402:24:
          401|           collectResults = modules: {
          402|             disabled = concatLists (catAttrs "disabled" modules);
             |                        ^
          403|             inherit modules;

       … while evaluating a branch condition
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:413:25:
          412|             modules = collectedImports.modules;
          413|             disabled = (if module.disabledModules != [] then [{ file = module._file; disabled = module.disabledModules; }] else []) ++ collectedImports.disabled;
             |                         ^
          414|           }) initialModules);

       … from call site
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:407:22:
          406|           let
          407|             module = checkModule (loadModule args parentFile "${parentKey}:anon-${toString n}" x);
             |                      ^
          408|             collectedImports = collectStructuredModules module._file module.key module.imports args;

       … while calling anonymous lambda
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:366:11:
          365|         then
          366|           m:
             |           ^
          367|             if m._class != null -> m._class == class

       … while evaluating a branch condition
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:367:13:
          366|           m:
          367|             if m._class != null -> m._class == class
             |             ^
          368|             then m

       … in the left operand of the IMPL (->) operator
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:367:33:
          366|           m:
          367|             if m._class != null -> m._class == class
             |                                 ^
          368|             then m

       … from call site
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:407:35:
          406|           let
          407|             module = checkModule (loadModule args parentFile "${parentKey}:anon-${toString n}" x);
             |                                   ^
          408|             collectedImports = collectStructuredModules module._file module.key module.imports args;

       … while calling 'loadModule'
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:348:53:
          347|       # Like unifyModuleSyntax, but also imports paths and calls functions if necessary
          348|       loadModule = args: fallbackFile: fallbackKey: m:
             |                                                     ^
          349|         if isFunction m then

       … while evaluating a branch condition
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:349:9:
          348|       loadModule = args: fallbackFile: fallbackKey: m:
          349|         if isFunction m then
             |         ^
          350|           unifyModuleSyntax fallbackFile fallbackKey (applyModuleArgs fallbackKey m args)

       … from call site
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/modules.nix:349:12:
          348|       loadModule = args: fallbackFile: fallbackKey: m:
          349|         if isFunction m then
             |            ^
          350|           unifyModuleSyntax fallbackFile fallbackKey (applyModuleArgs fallbackKey m args)

       … while calling 'isFunction'
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/trivial.nix:1034:16:
         1033|   */
         1034|   isFunction = f: builtins.isFunction f ||
             |                ^
         1035|     (f ? __functor && isFunction (f.__functor f));

       … in the left operand of the OR (||) operator
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/trivial.nix:1034:41:
         1033|   */
         1034|   isFunction = f: builtins.isFunction f ||
             |                                         ^
         1035|     (f ? __functor && isFunction (f.__functor f));

       … while calling the 'isFunction' builtin
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/trivial.nix:1034:19:
         1033|   */
         1034|   isFunction = f: builtins.isFunction f ||
             |                   ^
         1035|     (f ? __functor && isFunction (f.__functor f));

       … while calling the 'elemAt' builtin
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/lists.nix:335:43:
          334|   */
          335|   imap1 = f: list: genList (n: f (n + 1) (elemAt list n)) (length list);
             |                                           ^
          336|

       … while calling 'append'
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/path/default.nix:214:5:
          213|     # The subpath string to append
          214|     subpath:
             |     ^
          215|     assert assertMsg (isPath path)

       … in the condition of the assert statement
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/path/default.nix:215:5:
          214|     subpath:
          215|     assert assertMsg (isPath path)
             |     ^
          216|       ''lib.path.append: The first argument is of type ${builtins.typeOf path}, but a path was expected'';

       … from call site
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/path/default.nix:215:12:
          214|     subpath:
          215|     assert assertMsg (isPath path)
             |            ^
          216|       ''lib.path.append: The first argument is of type ${builtins.typeOf path}, but a path was expected'';

       … while calling 'assertMsg'
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/asserts.nix:39:21:
           38|   # TODO(Profpatsch): add tests that check stderr
           39|   assertMsg = pred: msg: pred || builtins.throw msg;
             |                     ^
           40|

       … in the right operand of the OR (||) operator
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/asserts.nix:39:31:
           38|   # TODO(Profpatsch): add tests that check stderr
           39|   assertMsg = pred: msg: pred || builtins.throw msg;
             |                               ^
           40|

       … while calling the 'throw' builtin
         at /mnt/nix/store/s3bhg6p26cqi1hm2lamjjdwaiq49g2hn-source/lib/asserts.nix:39:34:
           38|   # TODO(Profpatsch): add tests that check stderr
           39|   assertMsg = pred: msg: pred || builtins.throw msg;
             |                                  ^
           40|

       error: lib.path.append: The first argument is of type string, but a path was expected
